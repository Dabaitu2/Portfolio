{"ast":null,"code":"import { useComponentDidMount } from './useComponentDidMount';\nimport debounce from 'lodash/debounce';\nvar callback_queue = [];\nexport var useResizeCallback = function useResizeCallback(fallBackHandler) {\n  useComponentDidMount(function () {\n    window.onresize = function (e) {\n      var width = e.target.innerWidth;\n      return debounce(function () {\n        if (width < 768) {\n          fallBackHandler && fallBackHandler();\n          return;\n        }\n\n        callback_queue.forEach(function (callback) {\n          callback();\n        });\n      }, 400)();\n    };\n  });\n\n  function addCallback(callback) {\n    callback_queue.push(callback);\n  }\n\n  return {\n    addCallback: addCallback\n  };\n};","map":{"version":3,"sources":["/Users/tomokokawase/Desktop/Portfolio/utils/hooks/useResizeCallback.ts"],"names":["useComponentDidMount","debounce","callback_queue","useResizeCallback","fallBackHandler","window","onresize","e","width","target","innerWidth","forEach","callback","addCallback","push"],"mappings":"AAAA,SAASA,oBAAT,QAAqC,wBAArC;AACA,OAAOC,QAAP,MAAqB,iBAArB;AAEA,IAAIC,cAAc,GAAG,EAArB;AACA,OAAO,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,eAAD,EAAiC;AAChEJ,EAAAA,oBAAoB,CAAC,YAAM;AACzBK,IAAAA,MAAM,CAACC,QAAP,GAAkB,UAAAC,CAAC,EAAI;AACrB,UAAMC,KAAK,GAAGD,CAAC,CAACE,MAAF,CAASC,UAAvB;AACA,aAAOT,QAAQ,CAAC,YAAM;AACpB,YAAIO,KAAK,GAAG,GAAZ,EAAiB;AACfJ,UAAAA,eAAe,IAAIA,eAAe,EAAlC;AACA;AACD;;AACDF,QAAAA,cAAc,CAACS,OAAf,CAAuB,UAAAC,QAAQ,EAAI;AACjCA,UAAAA,QAAQ;AACT,SAFD;AAGD,OARc,EAQZ,GARY,CAAR,EAAP;AASD,KAXD;AAYD,GAbmB,CAApB;;AAeA,WAASC,WAAT,CAAqBD,QAArB,EAA+B;AAC7BV,IAAAA,cAAc,CAACY,IAAf,CAAoBF,QAApB;AACD;;AACD,SAAO;AAAEC,IAAAA,WAAW,EAAXA;AAAF,GAAP;AACD,CApBM","sourcesContent":["import { useComponentDidMount } from './useComponentDidMount';\nimport debounce from 'lodash/debounce';\nimport throttle from 'lodash/throttle';\nlet callback_queue = [];\nexport const useResizeCallback = (fallBackHandler?: () => any) => {\n  useComponentDidMount(() => {\n    window.onresize = e => {\n      const width = e.target.innerWidth;\n      return debounce(() => {\n        if (width < 768) {\n          fallBackHandler && fallBackHandler();\n          return;\n        }\n        callback_queue.forEach(callback => {\n          callback();\n        });\n      }, 400)();\n    };\n  });\n\n  function addCallback(callback) {\n    callback_queue.push(callback);\n  }\n  return { addCallback };\n};\n"]},"metadata":{},"sourceType":"module"}