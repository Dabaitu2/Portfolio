{"ast":null,"code":"import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nvar _jsxFileName = \"/Users/tomokokawase/Desktop/Portfolio/pages/projects/xixi4rhino.tsx\";\nvar __jsx = React.createElement;\nimport * as React from 'react';\nimport { useEffect, useState } from 'react';\nimport styles from '../index.less';\nimport LayoutHeader from '../../components/LayoutHeader';\nimport { CurrentTabProvider, useCurrentTab } from '../../utils/hooks/useCurrentTab';\nimport { ContentSwitcher } from '../../components/ContentSwitcher';\nimport { useComponentDidMount } from '../../utils/hooks/useComponentDidMount';\nimport { useResizeCallback } from '../../utils/hooks/useResizeCallback';\nimport ProjectDetailItem from '../../components/Projects/ProjectDetail';\nimport Profile from '../../components/Profile';\nimport Projects from '../../components/Projects';\nvar DESIGN_WIDTH = 1920;\nvar COMMON_STATIC_PATH = '/static/images/projectDetails/img';\nvar Info = {\n  title: 'xixi4rhino',\n  mainColor: '#9E0601',\n  desc: ['a website for rhino protection', 'by impacting potential consumers directly'],\n  details: \"\\u2018xixi4rhino\\u2019 is a website for Rhino Protection, aiming to change Chinese potential consumers\\u2019 rhino horns purchase intention and create better Internet information environment about rhino horns. It\\u2019s critical to directly impact the consumption intention of Chinese potential consumers and make them abandon the purchase when rhinos are poached for rhino horns. In the Chinese market, as the Internet plays an import role on consumption decision, we created the website with an entrapping name \\u201CRhino Horn Purchase Guide\\u201D to induce people to click and browse it. The glitch art video at the beginning contains bloody scene and dialogue box interaction to make potential consumers shocked powerfully. After that, the webpage informs people about the correct knowledge of the rhino horns and encourage them to forward or donate, so that the website could be more widely spread.\",\n  tags: ['Society Innovation | Web UI and UX Design | Team Work in 5 weeks | Mar 2018 '],\n  images: [{\n    src: COMMON_STATIC_PATH + '7.jpg',\n    sources: [{\n      src: COMMON_STATIC_PATH + '7.webp',\n      type: 'image/webp'\n    }],\n    preview_src: COMMON_STATIC_PATH + '7-preview.jpg',\n    preview_sources: [{\n      src: COMMON_STATIC_PATH + '7-preview.webp',\n      type: 'image/webp'\n    }],\n    alt: 'rhino'\n  }],\n  detail_images_meta: {\n    dir: '/static/images/projectDetails/xixi4rhino',\n    num: 7\n  }\n};\nvar menuItems = [{\n  key: 'xixi4rhino',\n  label: 'xixi4rhino'\n}];\n\nvar InnerLayout = function InnerLayout() {\n  var _useCurrentTab = useCurrentTab(),\n      scale = _useCurrentTab.state.scale.scale,\n      _useCurrentTab$action = _useCurrentTab.actions,\n      setScale = _useCurrentTab$action.setScale,\n      setCurrentTab = _useCurrentTab$action.setCurrentTab;\n\n  var _useState = useState(true),\n      isLoading = _useState[0],\n      setIsLoading = _useState[1];\n\n  var fallBackReactive = function fallBackReactive() {\n    setScale(1);\n    var scale = Math.min(document.body.clientWidth / 1920, 1);\n    var metaEl = document.querySelector('meta[name=\"viewport\"]');\n\n    if (!metaEl) {\n      metaEl = document.createElement('meta');\n      metaEl.setAttribute('name', 'viewport');\n      metaEl.setAttribute('content', 'width=device-width, initial-scale=' + scale + ', maximum-scale=' + scale + ', minimum-scale=' + scale + ', user-scalable=no');\n      document.documentElement.firstElementChild.appendChild(metaEl);\n    } else {\n      metaEl.setAttribute('content', 'width=device-width, initial-scale=' + scale + ', maximum-scale=' + scale + ', minimum-scale=' + scale + ', user-scalable=no');\n    }\n\n    window.scrollTo({\n      top: 0\n    });\n  }; // innerWidth 比 body.offsetWidth 稳定\n\n\n  var _useComponentDidMount = useComponentDidMount(function () {\n    setCurrentTab(1);\n\n    if (window.innerWidth >= 700) {\n      var _scale = Math.max(Math.min(window.innerWidth / DESIGN_WIDTH, 1), 0.2);\n\n      setScale(_scale);\n    } else {\n      fallBackReactive();\n    }\n\n    addCallback(function () {\n      var scale = Math.max(Math.min(window.innerWidth / DESIGN_WIDTH, 1), 0.2);\n      document.getElementsByTagName('html')[0].style.fontSize = \"\".concat(scale, \"px\");\n      window.scrollTo({\n        top: 0\n      });\n      setScale(scale);\n    });\n  }),\n      IsDone = _useComponentDidMount.IsDone;\n\n  useEffect(function () {\n    setIsLoading(true);\n    document.getElementsByTagName('html')[0].style.fontSize = \"\".concat(scale, \"px\");\n    window.scrollTo({\n      top: 0\n    }); // 强行将这次setState推迟到下次处理\n\n    setTimeout(function () {\n      setIsLoading(false);\n    }, 0);\n  }, [scale]);\n\n  var _useResizeCallback = useResizeCallback(fallBackReactive),\n      addCallback = _useResizeCallback.addCallback;\n\n  return IsDone && !isLoading ? __jsx(\"div\", {\n    className: styles.layout,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }, __jsx(LayoutHeader, {\n    menuItems: menuItems,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }), __jsx(ContentSwitcher, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  }, __jsx(Profile, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }), __jsx(ProjectDetailItem, _extends({}, Info, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  })), __jsx(Projects, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  })), __jsx(LayoutHeader, {\n    menuItems: menuItems,\n    bodyStyle: {\n      marginTop: '138rem'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  })) : null;\n};\n\nvar Layout = function Layout() {\n  return __jsx(CurrentTabProvider, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }, __jsx(InnerLayout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }));\n};\n\nexport default Layout;","map":{"version":3,"sources":["/Users/tomokokawase/Desktop/Portfolio/pages/projects/xixi4rhino.tsx"],"names":["React","useEffect","useState","styles","LayoutHeader","CurrentTabProvider","useCurrentTab","ContentSwitcher","useComponentDidMount","useResizeCallback","ProjectDetailItem","Profile","Projects","DESIGN_WIDTH","COMMON_STATIC_PATH","Info","title","mainColor","desc","details","tags","images","src","sources","type","preview_src","preview_sources","alt","detail_images_meta","dir","num","menuItems","key","label","InnerLayout","scale","state","actions","setScale","setCurrentTab","isLoading","setIsLoading","fallBackReactive","Math","min","document","body","clientWidth","metaEl","querySelector","createElement","setAttribute","documentElement","firstElementChild","appendChild","window","scrollTo","top","innerWidth","max","addCallback","getElementsByTagName","style","fontSize","IsDone","setTimeout","layout","marginTop","Layout"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { useEffect, useState } from 'react';\nimport styles from '../index.less';\nimport LayoutHeader from '../../components/LayoutHeader';\nimport {\n  CurrentTabProvider,\n  useCurrentTab\n} from '../../utils/hooks/useCurrentTab';\nimport { ContentSwitcher } from '../../components/ContentSwitcher';\nimport { useComponentDidMount } from '../../utils/hooks/useComponentDidMount';\nimport { useResizeCallback } from '../../utils/hooks/useResizeCallback';\nimport ProjectDetailItem, {\n  ProjectDetailInfoProps\n} from '../../components/Projects/ProjectDetail';\nimport Profile from '../../components/Profile';\nimport Projects from '../../components/Projects';\n\nconst DESIGN_WIDTH = 1920;\nconst COMMON_STATIC_PATH = '/static/images/projectDetails/img';\nconst Info: ProjectDetailInfoProps = {\n  title: 'xixi4rhino',\n  mainColor: '#9E0601',\n  desc: [\n    'a website for rhino protection',\n    'by impacting potential consumers directly'\n  ],\n  details: `‘xixi4rhino’ is a website for Rhino Protection, aiming to change Chinese potential consumers’ rhino horns purchase intention and create better Internet information environment about rhino horns. It’s critical to directly impact the consumption intention of Chinese potential consumers and make them abandon the purchase when rhinos are poached for rhino horns. In the Chinese market, as the Internet plays an import role on consumption decision, we created the website with an entrapping name “Rhino Horn Purchase Guide” to induce people to click and browse it. The glitch art video at the beginning contains bloody scene and dialogue box interaction to make potential consumers shocked powerfully. After that, the webpage informs people about the correct knowledge of the rhino horns and encourage them to forward or donate, so that the website could be more widely spread.`,\n  tags: ['Society Innovation | Web UI and UX Design | Team Work in 5 weeks | Mar 2018 '],\n  images: [\n    {\n      src: COMMON_STATIC_PATH + '7.jpg',\n      sources: [\n        {\n          src: COMMON_STATIC_PATH + '7.webp',\n          type: 'image/webp'\n        }\n      ],\n      preview_src: COMMON_STATIC_PATH + '7-preview.jpg',\n      preview_sources: [\n        {\n          src: COMMON_STATIC_PATH + '7-preview.webp',\n          type: 'image/webp'\n        }\n      ],\n      alt: 'rhino'\n    }\n  ],\n  detail_images_meta: {\n    dir: '/static/images/projectDetails/xixi4rhino',\n    num: 7\n  },\n};\nconst menuItems = [\n  {\n    key: 'xixi4rhino',\n    label: 'xixi4rhino'\n  }\n];\nconst InnerLayout: React.FC<{}> = () => {\n  const {\n    state: {\n      scale: { scale }\n    },\n    actions: { setScale, setCurrentTab }\n  } = useCurrentTab();\n  const [isLoading, setIsLoading] = useState(true);\n  const fallBackReactive = () => {\n    setScale(1);\n    const scale = Math.min(document.body.clientWidth / 1920, 1);\n    let metaEl = document.querySelector('meta[name=\"viewport\"]');\n    if (!metaEl) {\n      metaEl = document.createElement('meta');\n      metaEl.setAttribute('name', 'viewport');\n      metaEl.setAttribute(\n        'content',\n        'width=device-width, initial-scale=' +\n          scale +\n          ', maximum-scale=' +\n          scale +\n          ', minimum-scale=' +\n          scale +\n          ', user-scalable=no'\n      );\n      document.documentElement.firstElementChild.appendChild(metaEl);\n    } else {\n      metaEl.setAttribute(\n        'content',\n        'width=device-width, initial-scale=' +\n          scale +\n          ', maximum-scale=' +\n          scale +\n          ', minimum-scale=' +\n          scale +\n          ', user-scalable=no'\n      );\n    }\n\n    window.scrollTo({\n      top: 0\n    });\n  };\n  // innerWidth 比 body.offsetWidth 稳定\n  const { IsDone } = useComponentDidMount(() => {\n    setCurrentTab(1);\n    if (window.innerWidth >= 700) {\n      const scale = Math.max(\n        Math.min(window.innerWidth / DESIGN_WIDTH, 1),\n        0.2\n      );\n      setScale(scale);\n    } else {\n      fallBackReactive();\n    }\n    addCallback(() => {\n      const scale = Math.max(\n        Math.min(window.innerWidth / DESIGN_WIDTH, 1),\n        0.2\n      );\n      document.getElementsByTagName('html')[0].style.fontSize = `${scale}px`;\n      window.scrollTo({\n        top: 0\n      });\n      setScale(scale);\n    });\n  });\n  useEffect(() => {\n    setIsLoading(true);\n    document.getElementsByTagName('html')[0].style.fontSize = `${scale}px`;\n    window.scrollTo({\n      top: 0\n    });\n    // 强行将这次setState推迟到下次处理\n    setTimeout(() => {\n      setIsLoading(false);\n    }, 0);\n  }, [scale]);\n  const { addCallback } = useResizeCallback(fallBackReactive);\n  return IsDone && !isLoading ? (\n    <div className={styles.layout}>\n      <LayoutHeader menuItems={menuItems} />\n      <ContentSwitcher>\n        <Profile />\n        <ProjectDetailItem {...Info} />\n        <Projects />\n      </ContentSwitcher>\n      <LayoutHeader\n        menuItems={menuItems}\n        bodyStyle={{\n          marginTop: '138rem'\n        }}\n      />\n    </div>\n  ) : null;\n};\n\nconst Layout: React.FC<{}> = () => {\n  return (\n    <CurrentTabProvider>\n      <InnerLayout />\n    </CurrentTabProvider>\n  );\n};\n\nexport default Layout;\n"]},"metadata":{},"sourceType":"module"}