{"ast":null,"code":"import { useComponentDidMount } from './useComponentDidMount';\nimport throttle from 'lodash/throttle';\nlet callback_queue = [];\nlet mustExecuteCallBack_queue = [];\nexport const useResizeCallback = fallBackHandler => {\n  useComponentDidMount(() => {\n    window.onresize = throttle(e => {\n      const width = e.target.innerWidth;\n\n      if (width < 768) {\n        fallBackHandler && fallBackHandler();\n        mustExecuteCallBack_queue.forEach(callback => {\n          callback();\n        });\n        return;\n      }\n\n      callback_queue.forEach(callback => {\n        callback();\n      });\n    }, 800, {\n      trailing: true\n    });\n  });\n\n  function addCallback(callback) {\n    callback_queue.push(callback);\n  }\n\n  function addMustExecuteCallback(callback) {\n    mustExecuteCallBack_queue.push(callback);\n  }\n\n  return {\n    addCallback,\n    addMustExecuteCallback\n  };\n};","map":null,"metadata":{},"sourceType":"module"}