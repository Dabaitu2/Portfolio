{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport { useComponentDidMount } from '../../../utils/hooks/useComponentDidMount'; // @ts-ignore\n\nimport findMainThemeWorker from 'worker-loader?name=static/[hash].worker.js!../../../utils/workers/findMainTheme.worker';\nimport getData from '../../../utils/rgbaster';\n\nvar AutoBackGroundColorSliderPage = function AutoBackGroundColorSliderPage(props) {\n  var src = props.src,\n      alt = props.alt,\n      preview_src = props.preview_src;\n\n  var _useState = useState('#e2e2e2'),\n      backgroundColor = _useState[0],\n      setBackGroundColor = _useState[1];\n\n  useComponentDidMount(function () {\n    var img = new Image();\n    img.src = preview_src;\n\n    img.onload = function () {\n      getData(preview_src).then(function (value) {\n        // worker 不会阻塞渲染\n        var worker = new findMainThemeWorker();\n        worker.postMessage(value);\n\n        worker.onmessage = function (e) {\n          setBackGroundColor(e.data);\n        };\n      })[\"catch\"](function (err) {\n        return console.log(err);\n      });\n    };\n  });\n  return __jsx(\"div\", {\n    className: 'section',\n    style: {\n      backgroundColor: backgroundColor,\n      transition: '0.6s ease-in-out'\n    }\n  }, __jsx(\"img\", {\n    src: src,\n    alt: alt\n  }));\n};\n\nexport default AutoBackGroundColorSliderPage;","map":null,"metadata":{},"sourceType":"module"}