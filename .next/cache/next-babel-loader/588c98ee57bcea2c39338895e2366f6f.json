{"ast":null,"code":"import { useComponentDidMount } from './useComponentDidMount';\nimport throttle from 'lodash/throttle';\nvar callback_queue = [];\nvar mustExecuteCallBack_queue = [];\nexport var useResizeCallback = function useResizeCallback(fallBackHandler) {\n  useComponentDidMount(function () {\n    window.onresize = throttle(function (e) {\n      var width = e.target.innerWidth;\n\n      if (width < 768) {\n        fallBackHandler && fallBackHandler();\n        mustExecuteCallBack_queue.forEach(function (callback) {\n          callback();\n        });\n        return;\n      }\n\n      callback_queue.forEach(function (callback) {\n        callback();\n      });\n    }, 800, {\n      trailing: true\n    });\n  });\n\n  function addCallback(callback) {\n    callback_queue.push(callback);\n  }\n\n  function addMustExecuteCallback(callback) {\n    mustExecuteCallBack_queue.push(callback);\n  }\n\n  return {\n    addCallback: addCallback,\n    addMustExecuteCallback: addMustExecuteCallback\n  };\n};","map":{"version":3,"sources":["/Users/tomokokawase/Desktop/Portfolio/utils/hooks/useResizeCallback.ts"],"names":["useComponentDidMount","throttle","callback_queue","mustExecuteCallBack_queue","useResizeCallback","fallBackHandler","window","onresize","e","width","target","innerWidth","forEach","callback","trailing","addCallback","push","addMustExecuteCallback"],"mappings":"AAAA,SAASA,oBAAT,QAAqC,wBAArC;AACA,OAAOC,QAAP,MAAqB,iBAArB;AACA,IAAIC,cAAc,GAAG,EAArB;AACA,IAAIC,yBAAyB,GAAG,EAAhC;AACA,OAAO,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,eAAD,EAAiC;AAChEL,EAAAA,oBAAoB,CAAC,YAAM;AACzBM,IAAAA,MAAM,CAACC,QAAP,GAAkBN,QAAQ,CACxB,UAAAO,CAAC,EAAI;AACH,UAAMC,KAAK,GAAGD,CAAC,CAACE,MAAF,CAASC,UAAvB;;AACA,UAAIF,KAAK,GAAG,GAAZ,EAAiB;AACfJ,QAAAA,eAAe,IAAIA,eAAe,EAAlC;AACAF,QAAAA,yBAAyB,CAACS,OAA1B,CAAkC,UAAAC,QAAQ,EAAI;AAC5CA,UAAAA,QAAQ;AACT,SAFD;AAGA;AACD;;AACDX,MAAAA,cAAc,CAACU,OAAf,CAAuB,UAAAC,QAAQ,EAAI;AACjCA,QAAAA,QAAQ;AACT,OAFD;AAGD,KAbuB,EAcxB,GAdwB,EAexB;AACEC,MAAAA,QAAQ,EAAE;AADZ,KAfwB,CAA1B;AAmBD,GApBmB,CAApB;;AAsBA,WAASC,WAAT,CAAqBF,QAArB,EAA+B;AAC7BX,IAAAA,cAAc,CAACc,IAAf,CAAoBH,QAApB;AACD;;AACD,WAASI,sBAAT,CAAgCJ,QAAhC,EAA0C;AACxCV,IAAAA,yBAAyB,CAACa,IAA1B,CAA+BH,QAA/B;AACD;;AACD,SAAO;AAAEE,IAAAA,WAAW,EAAXA,WAAF;AAAeE,IAAAA,sBAAsB,EAAtBA;AAAf,GAAP;AACD,CA9BM","sourcesContent":["import { useComponentDidMount } from './useComponentDidMount';\nimport throttle from 'lodash/throttle';\nlet callback_queue = [];\nlet mustExecuteCallBack_queue = [];\nexport const useResizeCallback = (fallBackHandler?: () => any) => {\n  useComponentDidMount(() => {\n    window.onresize = throttle(\n      e => {\n        const width = e.target.innerWidth;\n        if (width < 768) {\n          fallBackHandler && fallBackHandler();\n          mustExecuteCallBack_queue.forEach(callback => {\n            callback();\n          });\n          return;\n        }\n        callback_queue.forEach(callback => {\n          callback();\n        });\n      },\n      800,\n      {\n        trailing: true\n      }\n    );\n  });\n\n  function addCallback(callback) {\n    callback_queue.push(callback);\n  }\n  function addMustExecuteCallback(callback) {\n    mustExecuteCallBack_queue.push(callback);\n  }\n  return { addCallback, addMustExecuteCallback };\n};\n"]},"metadata":{},"sourceType":"module"}